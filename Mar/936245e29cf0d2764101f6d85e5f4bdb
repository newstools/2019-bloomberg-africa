On a balmy night in the Egyptian resort of Sharm el-Sheikh, Oliver Robbins, British Prime Minister Theresa May’s chief Brexit adviser, rocked back in his chair on the hotel veranda, and laughed. As he looked out over the palm trees to the calm, moonlit surface of the Red Sea beyond, the man who spends his days trying to piece together a Brexit deal showed no sign of the strain. While Robbins relaxed last Sunday, the prime minister’s Brexit strategy appeared to the rest of the world to be falling apart. The economic ruin of a no-deal split loomed a month away, and more than 20 of May’s ministers were threatening to quit the government to stop it. Maybe it was the tranquil surroundings of the Egyptian resort’s luxurious location that soothed Robbins’s nerves. Or perhaps he already knew the secret: May was about to concede that Brexit might, after all, need to be delayed. Less than 48 hours later, the prime minister was announcing to Parliament that politicians will have the chance to vote on stopping a no-deal Brexit, and extending the deadline for the divorce, if an agreement can’t be reached. It was a dramatic reversal for a premier who’s spent the past two years promising to take the U.K. out of the EU on March 29. This article charts the fraught few days leading up to May’s announcement, and is based on the accounts of people involved in the saga, who asked not to be named discussing such sensitive events. The final act in the drama began a week earlier, when the country’s attention was, for once, not on the civil war ravaging May’s ruling Conservative Party. On Monday Feb. 18, seven Labour politicians quit their party in protest at Jeremy Corbyn’s leadership. As journalists focused on the defections and what they might mean for the future of British politics, a group of May’s most senior ministers marched into her office and confronted her over Brexit. Read more: How Would an Extension to the Brexit Deadline Work: Q&A Amber Rudd Led by Pensions Secretary Amber Rudd, the ministers told May that if she did not rule out a no-deal departure, they would have no choice but to vote against her in order to stop it. What they had in mind represented a nuclear option: they would vote for a proposal Feb. 27 that would effectively take power over Brexit policy out of May’s hands, passing it instead to Parliament, and ripping up Britain’s constitutional conventions under which the government keeps control over Parliamentary business. But Rudd and her allies saw their plan as their only chance to avert crashing out of the EU with no new trade terms in place on March 29. They would be ready to force May to extend the deadline, delaying Brexit, if necessary. They went public with the issue late Feb. 22: Rudd -- joined by Business Secretary Greg Clark and Justice Secretary David Gauke -- co-wrote an article in The Daily Mail newspaper, effectively putting their threat into writing. May’s aides genuinely feared the three ministers could all quit at once. Days later, with May stuck 3,000 miles away at the EU-Arab League summit, her Government’s chief whip, Julian Smith, tried to assess the scale of the revolt she was facing. The news was bad. It seemed that the growing number of rebels did not only want to force May to delay Brexit, but to take over control of parliamentary business for the longer term, effectively changing the way the U.K. is governed for good. In Sharm el-Sheikh, a bright Monday morning was turning warm as May sat down for a breakfast of croissants, cheese and coffee with German Chancellor Angela Merkel. During the course of their 45-minute discussion, Merkel asked May about British newspaper report overnight, which suggested the prime minister was weighing up a possible delay to Brexit. May and Merkel in Sharm El Sheikh on Feb. 25. May replied that she didn’t want to extend Article 50 and still aimed for a deal by March 29. But the question wouldn’t go away. Later in the day, European Council President Donald Tusk declared that, with time now almost out, postponing exit day would be "rational." Back in London, the chief whip had reached a conclusion. There was no realistic prospect of stopping Parliament seizing power over the most important policy facing the country in the Feb. 27 vote. Rudd and some 24 other ministers and government aides met to finalize how they would force May to take a no-deal Brexit off the table. They discussed a mass resignation, as well as simply voting against May and daring her to fire them all.    By Monday afternoon, May’s team knew that offering members of Parliament a chance to delay Brexit would be the only way they could keep control. But she still needed to persuade her cabinet -- divided between Rudd’s rebels and pro-Brexit campaigners -- to back her plan the next day. At 9:30 a.m. Tuesday, May’s ministers sat around the cabinet table inside her 10 Downing Street offices for what was the stormiest meeting of the year. Normally loyal ministers were angry with May’s option of a delay, and even more furious with Rudd, Gauke and Clark for pushing her into the move. Liz Truss, left, departs number 10 Downing on Feb. 26. Chief Secretary to the Treasury Liz Truss and Andrea Leadsom, a pro-Brexit minister in the cabinet, were especially angry, saying the prime minister’s negotiating position had been sabotaged. Another cabinet minister observed that voters were already frustrated with how long it has taken to deliver Brexit and want the government now to “just get it done.” Gauke pointed out that it wasn’t government policy to leave with no deal, while Clark reiterated that such an exit would be a disaster for business. In the end, none of the 25 or so pro-EU ministers had to resign to win the battle for a delay. And rather than sparking a furious backlash from the pro-Brexit wing of the party, only 20 Tories voted against May’s policy on Wednesday. Read more - How Theresa May Might Just Pull It Off: This Is the Brexit Math The threat of the U.K. leaving the EU with no deal at the end of the month now seems all but gone, with an extension to the deadline a far likelier outcome. As one triumphant official observed, after May gave in to Rudd’s demands, “we have changed the course of history.”